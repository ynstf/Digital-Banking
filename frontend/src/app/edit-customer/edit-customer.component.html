<!-- src/app/edit-customer/edit-customer.component.html -->
<div class="navbar-wrapper">
  <app-navbar></app-navbar>
</div>
<div class="cyber-container">
  <div class="form">
    <h1>Modifier Client #{{ customerId }}</h1>
    
    <!-- Error Alert -->
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>
    
    <form [formGroup]="customerForm" (ngSubmit)="handleSaveCustomer()">
      <!-- Name Field -->
      <div class="control">
        <div class="block-cube block-input">
          <input 
            type="text" 
            formControlName="name" 
            placeholder="Nom du client"
            class="text">
          <div class="bg-top">
            <div class="bg-inner"></div>
          </div>
          <div class="bg-right">
            <div class="bg-inner"></div>
          </div>
          <div class="bg">
            <div class="bg-inner"></div>
          </div>
        </div>
        <div *ngIf="customerForm.get('name')?.touched && customerForm.get('name')?.invalid" class="field-error">
          Nom requis
        </div>
      </div>

      <!-- Email Field -->
      <div class="control">
        <div class="block-cube block-input">
          <input 
            type="email" 
            formControlName="email" 
            placeholder="Adresse email"
            class="text">
          <div class="bg-top">
            <div class="bg-inner"></div>
          </div>
          <div class="bg-right">
            <div class="bg-inner"></div>
          </div>
          <div class="bg">
            <div class="bg-inner"></div>
          </div>
        </div>
        <div *ngIf="customerForm.get('email')?.touched && customerForm.get('email')?.invalid" class="field-error">
          Adresse email invalide
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="button-group">
        <!-- Save Button -->
        <div class="block-cube block-cube-hover btn-wrapper">
          <button 
            [disabled]="customerForm.invalid" 
            type="submit"
            class="btn text">
            Enregistrer
          </button>
          <div class="bg-top">
            <div class="bg-inner"></div>
          </div>
          <div class="bg-right">
            <div class="bg-inner"></div>
          </div>
          <div class="bg">
            <div class="bg-inner"></div>
          </div>
        </div>

        <!-- Cancel Button -->
        <div class="block-cube block-cube-hover btn-wrapper btn-secondary">
          <button 
            type="button" 
            class="btn text"
            (click)="router.navigateByUrl('/customers')">
            Annuler
          </button>
          <div class="bg-top">
            <div class="bg-inner"></div>
          </div>
          <div class="bg-right">
            <div class="bg-inner"></div>
          </div>
          <div class="bg">
            <div class="bg-inner"></div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>